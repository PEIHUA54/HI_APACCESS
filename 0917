éå¸¸å¥½ ğŸ‘Œ é€™æ®µæˆ‘çœ‹æ‡‚äº†ã€‚
ä½ çš„ GetEmpMastRequest è¦å‚³é€²å»çš„åƒæ•¸è£¡æœ‰ä¸€å€‹ EmpNoListï¼Œ
å‹åˆ¥æ˜¯ List<string>ï¼Œ
ä½†åœ¨æ¸¬è©¦å·¥å…·é€™é‚Šä½  txtEmpnoList.Text æ˜¯å­—ä¸²ã€‚

ğŸ‘‰ æ‰€ä»¥å•é¡Œæ˜¯ã€Œè¦æ€éº¼æŠŠ TextBox è£¡çš„è¼¸å…¥è½‰æˆ Listã€ã€‚

â¸»

âœ… æœ€ç°¡å–®ã€æœ€ç›´è¦ºçš„ä½œæ³•

å‡è¨­ä½ åœ¨ txtEmpnoList è¼¸å…¥çš„æ ¼å¼æ˜¯ï¼š

12345,23456,34567

ï¼ˆç”¨é€—è™Ÿåˆ†éš”ï¼‰

é‚£ä½ åœ¨ç¨‹å¼æ”¹æˆé€™æ¨£å°±è¡Œ ğŸ‘‡ï¼š

private void button8_Click(object sender, EventArgs e)
{
    var empList = txtEmpnoList.Text
        .Split(new[] { ',', ';', '\n', '\r' }, StringSplitOptions.RemoveEmptyEntries) // æ”¯æ´å¤šç¨®åˆ†éš”ç¬¦
        .Select(x => x.Trim())  // å»ç©ºç™½
        .ToList();

    var req = new Model.GetEmpMastRequest
    {
        Environment = GetEnvironment(),
        Type = GetSearchType(), // ä¾‹å¦‚ 1 / 2 / 3
        EmpNoList = empList,
    };

    string jsonReq = JsonConvert.SerializeObject(req, Formatting.Indented);
    string jsonRes = new HI_APACCESS_DLL.APACCESS().GetEmpMast(jsonReq);
    var res = JsonConvert.DeserializeObject<Model.GetEmpMastResponse>(jsonRes);

    ClearInputsAndFocus();
    ShowResult(jsonReq, jsonRes);
}


â¸»

ğŸ’¡ æ”¯æ´å¤šç¨®è¼¸å…¥æ ¼å¼

é€™æ¨£ä½ çš„ TextBox å¯ä»¥éˆæ´»è¼¸å…¥å¹¾ç¨®æ ¼å¼éƒ½å¯ä»¥ç”¨ï¼š

ä½ è¼¸å…¥çš„å…§å®¹	å¯¦éš›å‚³å…¥ List çš„çµæœ
12345,23456,34567	["12345","23456","34567"]
12345;23456;34567	åŒä¸Š
æ›è¡Œåˆ†éš”\n12345\n23456\n34567	åŒä¸Š


â¸»

âœ… æœ€å¾Œå»ºè­°

å¦‚æœä½ æ˜¯æ¸¬è©¦å·¥å…·ï¼Œå¯ä»¥åœ¨ TextBox æ—é‚ŠåŠ å€‹å°æç¤º Labelï¼š

è«‹è¼¸å…¥å“¡ç·¨ï¼Œä½¿ç”¨é€—è™Ÿæˆ–æ›è¡Œåˆ†éš”

å°±èƒ½ç›´æ¥åœ¨ txtEmpnoList è¼¸å…¥å¤šç­†å“¡ç·¨é€²è¡Œæ¸¬è©¦ï¼Œä¸ç”¨æ”¹ç¨‹å¼ã€‚

â¸»

è¦æˆ‘å¹«ä½ è£œä¸Šã€Œé¡¯ç¤º JSON æ ¼å¼çš„çµæœåœ¨æ–‡å­—æ¡†ï¼ˆè‡ªå‹•ç¸®æ’ï¼‰ã€ç‰ˆæœ¬å—ï¼Ÿ
å¯ä»¥è®“ä½ ä¸€éµçœ‹åˆ°é€å‡ºèˆ‡å›å‚³çš„å®Œæ•´ JSON çµæ§‹ã€‚